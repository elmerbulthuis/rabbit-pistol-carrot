<!doctype html>

<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rabbit-Pistol-Carrot</title>

    <style>
      html {
        height: 100%;
        color: white;
      }

      body {
        margin: 0;
        padding: 0;
        height: 100%;
        overflow: hidden;
      }

      .slide-container {
        display: flex;
        height: 100%;
        flex-wrap: nowrap;
        transition: transform 200ms ease-in;
      }

      .slide {
        width: 100%;
        flex-shrink: 0;
        background-color: #222;
        overflow: hidden;
      }
    </style>
  </head>
  <body>
    <div class="slide-container">
      <div class="slide">a</div>
      <div class="slide">b</div>
    </div>

    <script>
      document
        .querySelector(".slide-container .slide")
        .classList.add("current");

      document.addEventListener("keydown", (event) => {
        const currentSlide = document.querySelector(
          ".slide-container .slide.current",
        );
        if (currentSlide == null) {
          return;
        }

        switch (event.key) {
          case "ArrowRight": {
            const nextSlide = document.querySelector(
              ".slide-container .slide.current + .slide",
            );

            if (nextSlide != null) {
              currentSlide.classList.remove("current");
              nextSlide.classList.add("current");
            }

            updateSlides();
            break;
          }

          case "ArrowLeft": {
            const previousSlide = document.querySelector(
              ".slide-container .slide:has(+ .slide.current)",
            );

            if (previousSlide != null) {
              currentSlide.classList.remove("current");
              previousSlide.classList.add("current");
            }

            updateSlides();
            break;
          }
        }
      });

      function updateSlides() {
        const slideContainer = document.querySelector(".slide-container");
        if (slideContainer == null) {
          return;
        }

        const slides = document.querySelectorAll(".slide-container .slide");
        slides.forEach((slide, index) => {
          if (slide.classList.contains("current")) {
            slideContainer.style.transform = `translateX(-${index * 100}%)`;
          }
        });
      }
    </script>
  </body>
</html>
